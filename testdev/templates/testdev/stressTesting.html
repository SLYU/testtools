{% extends "testdev/base.html" %}
{% load bootstrap3 %}
{% block header %}
  <h2>压力测试工具</h2>
{% endblock header %}
{% block content %}
    <h3>压测任务配置</h3>
    <form action="{% url 'testdev:stressTesting' %}" method='post' class="form" enctype="multipart/form-data">
    {% csrf_token %}
    {% bootstrap_form form %}
    {% buttons %}
      <button name="submit" class="btn btn-primary">提交</button>
    {% endbuttons %}
    </form>

    <h3>压测任务结果表</h3>
    <div id ='result'  style="width:100%;margin:0px;">
        <table class ='table table-bordered'>
            <thead>
                <tr>
                    <th>并发开始时间</th>
                    <th>并发结束时间</th>
                    <th>最大响应时长(ms)</th>
                    <th>最小响应时长(ms)</th>
                    <th>平均响应时长(ms)</th>
                    <th>QPS</th>
                    <th>总请求数</th>
                    <th>总耗时(s)</th>
                    <th>请求失败数</th>
                </tr>
            </thead>
            <tbody>
                <td>{{ r.request_start_time }}</td>
                <td>{{ r.request_end_time }}</td>
                <td>{{ r.request_max_time }}</td>
                <td>{{ r.request_min_time }}</td>
                <td>{{ r.Average_Response_Time }}</td>
                <td>{{ r.qps }}</td>
                <td>{{ r.Concurrent_processing }}</td>
                <td>{{ r.use_total_time }}</td>
                <td>{{ r.fail_request }}</td>
            </tbody>
        </table>
    </div>
{% endblock content%}

